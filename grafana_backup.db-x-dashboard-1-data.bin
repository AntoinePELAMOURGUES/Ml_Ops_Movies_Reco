{"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":1,"links":[],"panels":[{"datasource":{"default":true,"type":"prometheus","uid":"cdz34enx4zy80c"},"description":"Nombre total de requêtes","fieldConfig":{"defaults":{"color":{"fixedColor":"light-orange","mode":"shades"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[{"matcher":{"id":"byName","options":"http_requests_total{handler=\"/auth/\", instance=\"fastapi:8000\", job=\"fastapi\", method=\"POST\", status=\"4xx\"}"},"properties":[]}]},"gridPos":{"h":7,"w":14,"x":0,"y":0},"id":5,"options":{"displayMode":"lcd","maxVizHeight":300,"minVizHeight":11,"minVizWidth":8,"namePlacement":"auto","orientation":"horizontal","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showUnfilled":true,"sizing":"auto","text":{"titleSize":12},"valueMode":"color"},"pluginVersion":"11.2.0","targets":[{"datasource":{"type":"prometheus","uid":"cdz34enx4zy80c"},"disableTextWrap":false,"editorMode":"builder","exemplar":false,"expr":"http_requests_total{handler=\"/auth/\", status=\"2xx\"}","format":"heatmap","fullMetaSearch":false,"includeNullMetadata":true,"instant":false,"interval":"","legendFormat":"","range":true,"refId":"A","useBackend":false},{"datasource":{"type":"prometheus","uid":"cdz34enx4zy80c"},"disableTextWrap":false,"editorMode":"builder","expr":"http_requests_total{handler=\"/auth/\", status=\"4xx\"}","fullMetaSearch":false,"hide":false,"includeNullMetadata":true,"instant":false,"interval":"","legendFormat":"","range":true,"refId":"B","useBackend":false},{"datasource":{"type":"prometheus","uid":"cdz34enx4zy80c"},"disableTextWrap":false,"editorMode":"builder","expr":"http_requests_total{handler=\"/auth/token\", status=\"2xx\"}","fullMetaSearch":false,"hide":false,"includeNullMetadata":true,"instant":false,"legendFormat":"","range":true,"refId":"C","useBackend":false},{"datasource":{"type":"prometheus","uid":"cdz34enx4zy80c"},"disableTextWrap":false,"editorMode":"builder","expr":"http_requests_total{handler=\"/auth/token\", status=\"4xx\"}","fullMetaSearch":false,"hide":false,"includeNullMetadata":true,"instant":false,"legendFormat":"","range":true,"refId":"D","useBackend":false}],"title":"Nombre de Requêtes d'Authentification:","type":"bargauge"},{"datasource":{"default":true,"type":"prometheus","uid":"cdz34enx4zy80c"},"description":"Indique la quantité de mémoire utilisée par rapport à la mémoire totale disponible. Une utilisation proche de 100 % peut entraîner un swap, ralentissant les performances.","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"percent"},"overrides":[]},"gridPos":{"h":7,"w":5,"x":14,"y":0},"id":4,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"text":{},"textMode":"auto","wideLayout":true},"pluginVersion":"11.2.0","targets":[{"datasource":{"type":"prometheus","uid":"cdz34enx4zy80c"},"editorMode":"code","expr":"(node_memory_MemTotal_bytes - node_memory_MemFree_bytes) / node_memory_MemTotal_bytes * 100","instant":false,"legendFormat":"__auto","range":true,"refId":"A"}],"title":"Utilisation de la mémoire :","type":"stat"},{"datasource":{"default":true,"type":"prometheus","uid":"cdz34enx4zy80c"},"description":"Montre l'utilisation du swap, qui est une forme de mémoire virtuelle sur disque. Une utilisation élevée du swap peut indiquer que le système manque de mémoire physique.","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":5,"x":19,"y":0},"id":3,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"11.2.0","targets":[{"datasource":{"type":"prometheus","uid":"cdz34enx4zy80c"},"editorMode":"code","expr":"node_memory_SwapTotal_bytes","instant":false,"legendFormat":"__auto","range":true,"refId":"A"}],"title":"Utilisation de Swap :","type":"stat"},{"datasource":{"default":true,"type":"prometheus","uid":"cdz34enx4zy80c"},"description":"Temps total d'utilisation du CPU en secondes, mesuré par mode","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":10,"x":0,"y":7},"id":8,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"cdz34enx4zy80c"},"editorMode":"code","expr":"rate(node_cpu_seconds_total{mode=\"user\"}[1m])","instant":false,"legendFormat":"__auto","range":true,"refId":"A"}],"title":"Utilisation du CPU Total :","type":"timeseries"},{"datasource":{"default":true,"type":"prometheus","uid":"cdz34enx4zy80c"},"description":"Taille des réponses en Mb","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"fillOpacity":47,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineWidth":2,"stacking":{"group":"A","mode":"none"}},"decimals":2,"fieldMinMax":false,"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"decmbytes"},"overrides":[]},"gridPos":{"h":8,"w":14,"x":10,"y":7},"id":6,"options":{"combine":false,"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"asc"}},"targets":[{"datasource":{"type":"prometheus","uid":"cdz34enx4zy80c"},"disableTextWrap":false,"editorMode":"builder","expr":"http_response_size_bytes_created","fullMetaSearch":false,"includeNullMetadata":true,"instant":false,"legendFormat":"__auto","range":true,"refId":"A","useBackend":false}],"title":"Taille des Réponses :","type":"histogram"},{"datasource":{"default":true,"type":"prometheus","uid":"cdz34enx4zy80c"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":4,"w":24,"x":0,"y":15},"id":7,"options":{"legend":{"calcs":[],"displayMode":"hidden","placement":"right","showLegend":false},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"cdz34enx4zy80c"},"disableTextWrap":false,"editorMode":"builder","expr":"http_request_duration_seconds_bucket{handler!=\"/metrics\"}","fullMetaSearch":false,"includeNullMetadata":true,"instant":false,"legendFormat":"__auto","range":true,"refId":"A","useBackend":false}],"title":"Temps de Traitement des Requêtes","type":"timeseries"}],"schemaVersion":39,"tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{},"timezone":"browser","title":"Reco_movies_monitoring","uid":"ddz3bcm35rqiod","version":2,"weekStart":""}